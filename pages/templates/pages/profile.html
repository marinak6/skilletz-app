{% extends 'pages/authenticated.html' %} {% load static %} {% block pagename %}Profile{% endblock %} {% block content %}
{% load crispy_forms_tags %}
{%load static%}

<div>
	<div class="jumbotron jumbotron-fluid" style="height: 1%; background-color:#f4f7f6; color: #e24e42;">
		<div class="container" >
			<h1 class="display-4">
				{% for user in users %} {{user.first_name}} {{user.last_name}}'s Profile   {% if user.computing_id != request.user.profile.computing_id %} {% if bool == True %}<a href="/like/{{user.computing_id}} " class="btn btn-success" style="margin-left: 3%;background-color:#60b8bc; ">Like!</a> {% endif %} {% if bool == False %} <a href="/like/{{user.computing_id}}" class="btn btn-danger" style="margin-left: 3%">Unlike</a>{%endif%}{% endif %}
				<br>

			</h1>
			<hr class="my-4">
			<p>
				{{user.computing_id}}@virginia.edu | {{user.major}}
			</p>
		</div>
	</div>
	<div>
		<section>
			<center style="padding-top: 2%">
				<div class="my-3 p-4" style="text-align: left; width: 60%; background: #fcfcfc; border: 1.2px solid #008F95">
					<p style="border: 1.2px solid #008F95; padding: 2%; text-align: center; background-color: #60b8bc; color: white"><b>About me </b></p>
					{{user.bio}}
				</div>
			</center>
			<center style="padding-top:2%">
				<div class="my-3 p-4" style="text-align: left; width: 60%; background: #fcfcfc; border: 1.2px solid #008F95">
				<p style="border: 1.2px solid #008F95; padding: 2%; text-align: center; background-color: #60b8bc; color: white"><b> My Current Courses </b></p>
				{% for course in user.courses.all %}
						- {{course.mnemonic}} {{course.number}}: {{course.title}}<br>
				{% endfor %}
				</div>
			</center>
			<center style="padding-top:2%">
				<div class="my-3 p-4" style="text-align: left; width: 60%; background: #fcfcfc; border: 1.2px solid #008F95">
				<p style="border: 1.2px solid #008F95; padding: 2%; text-align: center; background-color: #60b8bc; color: white"><b>My Weekly Availability </b></p>
				{% for ai in user.availability.all %}
						- {{ai.display_text}}<br>
				{% endfor %}
				</div>
			</center>

			{% if request.user.profile.computing_id == user.computing_id %}
			<center>
			<center class="row">
				<div class="col-sm-3"></div>
				<div class="m-3 col-sm-3 p-4" style="text-align: left; width: 60%; background: #fcfcfc; border: 1.2px solid #008F95">
				<p style="border: 1.2px solid #008F95; padding: 2%; text-align: center; background-color: #60b8bc; color: white"><b> People Who I Like </b></p>
				{% for person in user.people_who_I_like.all %}
				<a class="nav-link " style="color:#008F95" href="{% url 'pages:profile' %}/{{person.liked}} ">{{person.liked}}</a>
				{% endfor %}
				</div>



				<div class="m-3 col-sm-3 p-4" style="text-align: left; width: 60%; background: #fcfcfc; border: 1.2px solid #008F95">
				<p style="border: 1.2px solid #008F95; padding: 2%; text-align: center; background-color: #60b8bc; color: white"><b> People Who Like Me </b></p>
				{% for person in user.people_who_like_me.all %}
						<a class="nav-link " style="color:#008F95" href="{% url 'pages:profile' %}/{{person.liker}} ">{{person.liker}}</a>
				{% endfor %}
				</div>
				<div class="col-sm-3"></div>
			</center>
			</center>

			{% endif %}
		</section>
	</div>
</div>

{% if error_message %}
<p>
	<strong>{{ error_message }}</strong>
</p>{% endif %}
<br>
<br>
<section>
	<div class="container-fluid bg-light">
		<div class="container">
			<div class="row">
				<H2 class="display-6 py-4" style="height: 1%; background-color:#f4f7f6; color: #e24e42;"> Reviews and Comments: </H2>
			</div>
			{% for comment in comments %}
			<div class="row">
				<p><b>{{comment.comment_title}} - - - - - - - - - - - - - - - {{comment.rating}}</b></p>
			</div>
			<div class="row">
				<p> {{comment.comment_descr}} </p>
			</div>
			{%endfor%}

			<div class="row">
				<H5 class="display-6"> New Review for this User: </H5>
			</div>

			<div class="row">
				{{form|crispy}}
				<form action="{% url 'pages:profile_page' user.computing_id %}" method="post">
					{% csrf_token %} Rating: ☆
					<input type="radio" name="rating" value="☆"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;☆☆
					<input type="radio" name="rating" value="☆☆"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;☆☆☆
					<input type="radio" name="rating" value="☆☆☆"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;☆☆☆☆
					<input type="radio" name="rating" value="☆☆☆☆"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;☆☆☆☆☆
					<input type="radio" name="rating" value="☆☆☆☆☆">
					<br> Title:
					<input type="text" name="title">
					<label for="title" Comment.comment_title</label>
						Description:
						<input type="text" name="description">
						<label for="description" Comment.comment_descr</label>
							<button type="submit" class="btn btn-primary" style="background-color: #e24e42; border-color:#c12417;">Submit</button>
				</form>
			</div>
		</div>
	</div>
</section>


{%endfor%} {% endblock %}
